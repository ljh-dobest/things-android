{"version":3,"sources":["../../src/pages/borrowmanage/applyborrowmoney/applyborrowmoney.module.ts","../../src/pages/borrowmanage/applyborrowmoney/applyborrowmoney.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ApplyborrowmoneyPage } from './applyborrowmoney';\n// import { PROVIDERS } from '../../../app/imports';\nimport { SharedModule } from '../../../app/shared.module';\n\n@NgModule({\n  declarations: [\n    ApplyborrowmoneyPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ApplyborrowmoneyPage),\n    SharedModule\n  ],\n  exports: [\n    ApplyborrowmoneyPage\n  ],\n  providers: []\n})\nexport class ApplyborrowmoneyPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/borrowmanage/applyborrowmoney/applyborrowmoney.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { ToastService } from '../../../providers/util/toast.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { ImagePicker } from '@ionic-native/image-picker';//获取图片\n\n@IonicPage()\n@Component({\n  selector: 'page-applyborrowmoney',\n  templateUrl: 'applyborrowmoney.html',\n})\nexport class ApplyborrowmoneyPage {\n  paramObj :any={};\n  lenderList :any =[];\n  areaList :any = [];\n  proNameList :any = [];\n  proGroupList: any = [];\n  firstList: any = [];//一级科目\n  secondList: any = [];\n  thirdList: any = [];\n  explaisList: any= [];//说明\n  croSrc :string;\n  Iamges:any = [\n    {\n      id: 1,\n      url: 'assets/imgs/userImage1.png'\n    },\n    {\n      id: 2,\n      url: 'assets/imgs/userImage1.png'\n    },\n    {\n      id: 3,\n      url: 'assets/imgs/userImage2.png'\n    }\n  ]\n  options: CameraOptions = {\n    quality: 100,\n    destinationType: this.camera.DestinationType.DATA_URL,\n    encodingType: this.camera.EncodingType.JPEG,\n    mediaType: this.camera.MediaType.PICTURE\n  }\n  constructor(\n    public navCtrl: NavController, \n    public navParams: NavParams,\n    public http:ToastService,\n    public alertCtrl: AlertController,\n    private camera: Camera,\n    private geolocation: Geolocation,\n    private imagePicker: ImagePicker\n  )\n     {\n  }\n  \n\n  ionViewDidLoad() {\n    if(this.navParams.get('id')){\n      this.http.get(`phoneApplylend/v1/info/lend/${this.navParams.get('id')}/${this.navParams.get('name')}`)\n      .then(res => {\n        this.paramObj = res.data;\n      });\n    }else{\n      this.http.get(`applylend/v1/getAllUser`)\n        .then(res => {\n          this.lenderList = res.data;\n      })\n      this.http.get(`phoneApplylend/v1/phone/getArea`)\n        .then(res => {\n          this.areaList = res.data;\n        })\n      this.http.get(`reimburserecord/v1/listThirdSubject`)\n        .then(res => {\n          this.thirdList = res.data;\n        })\n    }\n    \n    this.geolocation.getCurrentPosition().then((resp) => {\n        // resp.coords.latitude\n        console.log(\"经度：\"+ resp.coords.latitude+','+'纬度：'+resp.coords.longitude);\n        let confirm = this.alertCtrl.create({\n          title: '消息提示',\n          message: \"经度：\"+ resp.coords.latitude,\n          buttons: [\n              {\n                text: '确认',\n                handler: () => {\n                  \n                }\n              }\n            ]\n          });\n          confirm.present();\n        // resp.coords.longitude\n      }).catch((error) => {\n        console.log('Error getting location', error);\n        let confirm = this.alertCtrl.create({\n          title: '消息提示',\n          message: error,\n          buttons: [\n              {\n                text: '确认',\n                handler: () => {\n                  \n                }\n              }\n            ]\n          });\n          confirm.present();\n      });\n  }\n  areaCh (){\n    this.http.get(`phoneApplylend/v1/phone/getPGroupList`,{area:this.paramObj.area})\n      .then(res => {\n        this.proGroupList = res.data;\n      })\n  }\n  proFn (){//项目组 获取 项目名\n    this.http.get(`phoneApplylend/v1/phone/getPNameList`,{area:this.paramObj.area,projectGroup:this.paramObj.projectGroup})\n      .then(res => {\n        this.proNameList = res.data;\n      })\n  }\n  thirdFn (val: string) {//三级科目\n    if(val){\n      this.http.get(`reimburserecord/v1/listPlains`,{thirdSubject:val})\n        .then(res => {\n          this.explaisList = res.data;\n        })\n    }\n  }\n  explainFn (val :string,val1: string) {\n    if(val){\n      this.http.get(`phoneApplylend/v1/listSecond`,{thirdSubject:val,plainInfo:val1})\n        .then(res => {\n          this.secondList = res.data;\n        })\n      this.http.get(`phoneApplylend/v1/listFirst`,{thirdSubject:val,plainInfo:val1})\n        .then(res => {\n          let data = res.data;\n          for(let i= 0;i <data.length;i++){\n            this.firstList.push(data[i].firstSubjectBO.name);\n          }\n        })\n    }\n  }\n  addImage() {\n    let o:any = {id:this.Iamges.length,url:'assets/imgs/userImage2.png'};\n    \n    // this.camera.getPicture(this.options).then((imageData) => {\n    //   let base64Image = 'data:image/jpeg;base64,' + imageData;\n    //   this.croSrc = 'data:image/png;base64,'+imageData;\n    //   o.url = 'data:image/png;base64,'+imageData;\n    //   this.Iamges.push(o);\n    // });\n    var opt = { maxImagesCount:1, width:100, height:100, quality:50 }; \n    this.imagePicker.getPictures(opt).then((results)=>{\n      for (var i = 0; i < results.length; i++) {\n        o.url = 'data:image/png;base64,'+results[i];;\n        this.Iamges.push(o);\n      } \n    });\n  }\n\n  delImage(val:number) :void{\n    this.Iamges.splice(val,1);\n  }\n  //提交\n  submit() :void{\n    if(this.navParams.get('id')){\n      this.http.put('phoneApplylend/v1/error',this.paramObj)\n      .then(res => {\n        let msg:string;\n        if(res.code == 0){\n          msg = '此次编辑成功!';\n        }else {\n          msg = `编辑失败：${res.msg}`;\n        }\n        let confirm = this.alertCtrl.create({\n          title: '消息提示',\n          message: msg,\n          buttons: [\n              {\n                text: '确认',\n                handler: () => {\n                  if(!res.msg)this.navCtrl.push('BorrowManagePage',{tab:true});\n                }\n              }\n            ]\n          });\n          confirm.present();\n      })\n    }else{\n      this.http.post('phoneApplylend/v1/add',this.paramObj)\n    .then(res => {\n      let msg:string;\n      if(res.code == 0){\n        msg = '此次申请借款成功!';\n      }else {\n        msg = `借款失败：${res.msg}`;\n      }\n      let confirm = this.alertCtrl.create({\n        title: '消息提示',\n        message: msg,\n        buttons: [\n            {\n              text: '确认',\n              handler: () => {\n                if(!res.msg)this.navCtrl.push('BorrowManagePage',{tab:true});\n              }\n            }\n          ]\n        });\n        confirm.present();\n    })\n    }\n  }\n   \n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/borrowmanage/applyborrowmoney/applyborrowmoney.ts"],"sourceRoot":""}